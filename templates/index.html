<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'style.css' %}" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>News App</title>
</head>

<body>
    <div class="header">
        <a href="/">NEWS APP</a>
        <form class="search-bar" action="{% url 'query' %}" method="GET">
            <input id="query" name="query" type="search" placeholder="Search by keyword..." />
            <!-- <input id="btn" type="submit"/> -->
        </form>
        <ul class='cat-list'>
            <li class="ls-it"><a href="/business">Business</a></li>
            <li class="ls-it"><a href="/entertainment">Entertainment</a></li>
            <li class="ls-it"><a href="/health">Health</a></li>
            <li class="ls-it"><a href="/science">Science</a></li>
            <li class="ls-it"><a href="/sports">Sports</a></li>
            <li class="ls-it"><a href="/technology">Technology</a></li>
            <li class="ls-it"><a href="/general">General</a></li>
        </ul>
    </div>
    <div class="cou-container">
        <div class="hd">
            <h3>Filter news by cities</h3>
            <span id="expand"><i class="fa fa-chevron-down"></i></span>
            <span id="shrink" style="display: none;"><i class="fa fa-chevron-up"></i></span>
        </div>

        <div class="name-container" id="country-names">
            {% for id, country in cou %}
            <a href="/country/{{id}}">{{country}}</a>
            {% endfor %}
        </div>

    </div>
    <div class="container">
        {% for r in res.articles %}
        <div class="news-card" id="news-card" onclick='readMore("{{r}}")'>
            <div class="img-container">
                <img src="{{r.urlToImage}}" alt="news" />
            </div>
            <div class="subpart">
                <h3>{{r.title}}</h3>
                <p>{{r.description}}</p>
            </div>
        </div>
        {% endfor %}
    </div>

    <div id="modal">
        <div id="modal-box">
            <div class="news-data">
                <div class="news-img">
                    <img src="https://techcrunch.com/wp-content/uploads/2020/05/NSussman_Techcrunch_Exchange_v3-ORNG.jpg?w=533" />
                </div>
                <h2>What Squareâ€™s smashing earnings tell us about consumer bitcoin demand</h2>
                <div class="news-details">
                    <div class="author">Author: <strong>Alex Wilhelm</strong></div>
                    <div class="published-at">Date: <strong>2021-05-07</strong></div>
                </div>
                <div class="news-content">
                    
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">

        const expand = document.getElementById('expand')
        const shrink = document.getElementById('shrink')
        const countries = document.getElementById('country-names')

        shrink.addEventListener('click', () => {
            countries.style.display = 'none'
            shrink.style.display = 'none'
            expand.style.display = 'block'
        })

        expand.addEventListener('click', () => {
            countries.style.display = 'grid'
            expand.style.display = 'none'
            shrink.style.display = 'block'
        })


        const newsCard = document.getElementById('news-card')
        console.log(res.articles)

        function readMore(r){
            console.log(r)
        }

    </script>

</body>

</html>